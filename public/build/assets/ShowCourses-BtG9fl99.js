import{s as N}from"./index-B1dBdUkT.js";import{s as H}from"./index-B4-Nx9Ph.js";import{s as I}from"./index-DYnmT_uH.js";import{i as P,r as a,q,o as z,c as r,e as d,d as e,w as x,l as c,t as o,u as k,F as D,m as A,s as F,f as S,n as T,b as i}from"./app-BlaQt3nh.js";import{h as C}from"./moment-C5S46NFB.js";import{d as E}from"./debounce-BMmXVQ06.js";import"./index-Cdy3H-Na.js";import"./index-CmuUmXja.js";import"./index-Ghx-akHS.js";const L={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},R={class:"w-full"},U={class:"flex flex-col gap-4 text-center"},Q={key:1,class:"flex flex-col md:flex-row gap-12"},W={class:"w-full"},G={class:"card flex flex-col gap-4"},J={class:"w-full"},K={class:"flex flex-col md:flex-row gap-6 bg-white dark:bg-gray-900 rounded-lg shadow p-6"},O={class:"md:w-1/3 w-full rounded-lg overflow-hidden shadow"},X=["src"],Z={class:"md:flex-1 flex flex-col justify-between"},ee={class:"text-3xl font-bold mb-3 text-gray-900 dark:text-gray-100"},te={class:"text-gray-700 dark:text-gray-300 mb-4 whitespace-pre-line"},se={class:"text-gray-600 dark:text-gray-400 text-sm"},ae={class:"mt-10"},oe={class:"space-y-6"},le={class:"flex flex-col md:flex-row gap-4 items-start"},re={class:"flex-1"},ie={class:"flex justify-between items-center mb-2"},ne={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},de={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"text-gray-700 dark:text-gray-300 whitespace-pre-line mb-2"},ue={class:"w-full md:w-1/2"},me=["src"],ke={__name:"ShowCourses",setup(fe){const u=T(),m=P();a(null);const f=a(!0),p=a(!1);let _=a(null);const h=a(""),s=a(null),B=a(1);a(15),a(0);const g=a(!1);function y(){u&&u.back()}const b=()=>{g.value=!1},w=async(n=1)=>{S.get(`/api/courses/${u.currentRoute.value.params.id}`,{params:{query:h.value}}).then(t=>{s.value=t.data,f.value=!1}).catch(t=>{f.value=!1,m.add({severity:"error",summary:`${t}`,detail:"Message Detail",life:3e3}),y()})},Y=()=>{p.value=!0,S.delete(`/api/courses/${_.value}`).then(()=>{s.value.data=s.value.data.filter(n=>n.id!==_.value),b(),m.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(n=>{m.add({severity:"error",summary:"Erro",detail:`${n}`,life:3e3}),p.value=!1}).finally(()=>{p.value=!1})},j=E(()=>{w(B.value)},300);return q(h,j),z(()=>{w()}),(n,t)=>{const M=I,v=H,V=N;return i(),r(D,null,[f.value?(i(),r("div",L,[e("div",R,[e("div",U,[d(M,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),t[1]||(t[1]=e("p",null,"Por Favor Aguarde...",-1))])])])):(i(),r("div",Q,[e("div",W,[e("div",G,[e("div",J,[d(v,{label:"Voltar",class:"mr-2 mb-2",onClick:y},{default:x(()=>t[2]||(t[2]=[e("i",{class:"pi pi-angle-left"},null,-1),c(" Voltar")])),_:1})]),e("div",K,[e("div",O,[e("img",{src:"/storage/"+s.value.cover_image||"https://via.placeholder.com/400x250?text=Sem+Imagem",alt:"Imagem do curso",class:"object-cover w-full h-full"},null,8,X)]),e("div",Z,[e("div",null,[e("h1",ee,o(s.value.title),1),e("p",te,o(s.value.description),1)]),e("div",se,[e("p",null,[t[3]||(t[3]=e("strong",null,"Duração:",-1)),c(" "+o(s.value.duration||"Indefinida"),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Criado em:",-1)),c(" "+o(k(C)(s.value.created_at).format("DD-MM-YYYY HH:mm")),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Atualizado em:",-1)),c(" "+o(k(C)(s.value.updated_at).format("DD-MM-YYYY HH:mm")),1)])])])]),e("div",ae,[t[6]||(t[6]=e("h2",{class:"text-2xl font-semibold mb-6 text-gray-900 dark:text-gray-100"}," Aulas ",-1)),e("ul",oe,[(i(!0),r(D,null,A(s.value.topics,(l,$)=>(i(),r("li",{key:l.id,class:"p-4 border rounded-lg shadow-sm bg-gray-50 dark:bg-gray-800"},[e("div",le,[e("div",re,[e("div",ie,[e("h3",ne,o($+1)+". "+o(l.title),1),e("span",de,o(l.duration||"Sem duração"),1)]),e("p",ce,o(l.description||"Sem descrição"),1)]),e("div",ue,[l.video_url?(i(),r("video",{key:0,controls:"",class:"w-full rounded shadow",src:"/storage/"+l.video_url,type:"video/mp4"}," Seu navegador não suporta vídeo. ",8,me)):F("",!0)])])]))),128))])])])])])),d(V,{header:"Confirmação",visible:g.value,"onUpdate:visible":t[0]||(t[0]=l=>g.value=l),style:{width:"350px"},modal:!0},{footer:x(()=>[d(v,{label:"Não",icon:"pi pi-times",onClick:b,class:"p-button-text"}),d(v,{label:"Sim",icon:"pi pi-check",onClick:Y,class:"p-button-text",autofocus:""})]),default:x(()=>[t[7]||(t[7]=e("div",{class:"flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),e("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{ke as default};
